pluginManagement {
	repositories {
		maven {
			name = 'Quilt'
			url = 'https://maven.quiltmc.org/repository/release'
		}
		// Currently needed for Intermediary and other temporary dependencies
		maven {
			name = 'Fabric'
			url = 'https://maven.fabricmc.net/'
		}
		gradlePluginPortal()
	}
}

dependencyResolutionManagement {
	versionCatalogs {
		libs {
			def mc_major = '1.19'
			def mc = mc_major + '.2'

			// // Build Tools // //
			version('loom', '1.0.+')

			plugin('loom', 'org.quiltmc.loom').versionRef('loom')

			// // Base // //
			version('mc', mc)
			version('ql', "0.17.10")
			version('qm', "${mc}+build.21")
			version('qsl', "3.0.0-beta.29+${mc}")

			library('mc', 'mojang', 'minecraft').versionRef('mc')
			library('ql', 'org.quiltmc', 'quilt-loader').versionRef('ql')
			library('qm', 'org.quiltmc', 'quilt-mappings').versionRef('qm')
			library('qsl', 'org.quiltmc', 'qsl').versionRef('qsl')

			bundle('base', ['ql', 'qsl'])

			// // Runtime Libraries // //
			version('qfapi', "4.0.0-beta.28+0.73.2-${mc}")
			version('serverTranslationsApi', "1.4.18+${mc}")
			version('lib39', "1.5.0-pre3+${mc}")

			library('qfapi', 'org.quiltmc.quilted-fabric-api', 'quilted-fabric-api',).versionRef('qfapi')
			library('serverTranslationsApi', 'fr.catcore', 'server-translations-api').versionRef('serverTranslationsApi')
			library('lib39Core', 'com.unascribed', 'lib39-core').versionRef('lib39')
			library('lib39Dessicant', 'com.unascribed', 'lib39-dessicant').versionRef('lib39')

			bundle('runtime', ['qfapi', 'serverTranslationsApi', 'lib39Core', 'lib39Dessicant'])
			bundle('runtime.include', ['serverTranslationsApi', 'lib39Core', 'lib39Dessicant'])

			// // Client // //
			version('owo', "0.9.3+${mc_major}")

			library('owo', 'io.wispforest', 'owo-lib').versionRef('owo')

			bundle('client', ['qfapi', 'owo'])
			bundle('client.include', ['owo'])

			// // Cardinal // //
			version('cardinal', "5.1.0")

			library('cardinal', 'dev.onyxstudios.cardinal-components-api', 'cardinal-components-base').versionRef('cardinal')
			library('cardinalEntity', 'dev.onyxstudios.cardinal-components-api', 'cardinal-components-entity').versionRef('cardinal')

			bundle('cardinal', [
					'cardinal',
					'cardinalEntity',
			])

			// // Compat // //
			version('drogtor', "1.1.3${mc_major == '1.18' ? '' : "+${mc_major}"}")
			version('fabrictailor', "2.0.1")
			version('origins', "v1.7.1")
			version('apoli', "v2.6.0")
			version('pehkui', "3.4.2")
			version('fabrication', "3.0.2+${mc_major}")
			version('placeholderApi', "2.0.0-pre.1+${mc}")
			version('playerDataApi', "0.2.2+${mc}")
			version('styledNicknames', "1.1.2+${mc_major}")
			version('placeholder', "2.0.0-beta.7+${mc_major}")
			version('figura', "0.1.0-rc.13")

			library('drogtor', 'maven.modrinth', 'drogtor').versionRef('drogtor')
			library('fabrictailor', 'maven.modrinth', 'fabrictailor').versionRef('fabrictailor')
			library('origins', 'com.github.apace100', 'origins-fabric').versionRef('origins')
			library('apoli', 'com.github.apace100', 'apoli').versionRef('apoli')
			library('pehkui', 'com.github.Virtuoel', 'Pehkui').versionRef('pehkui')
			library('fabrication', 'maven.modrinth', 'fabrication').versionRef('fabrication')
			library('placeholderApi', 'eu.pb4', 'placeholder-api').versionRef('placeholderApi')
			library('playerDataApi', 'eu.pb4', 'player-data-api').versionRef('playerDataApi')
			library('styledNicknames', 'maven.modrinth', 'styled-nicknames').versionRef('styledNicknames')
			library('placeholder', 'eu.pb4', 'placeholder-api').versionRef('placeholder')
			library('figura', 'com.github.Kingdom-of-The-Moon', 'FiguraRewriteRewrite').versionRef('figura')

			bundle('compat_compile', [
					'qfapi',
					'drogtor',
					'fabrictailor',
					'pehkui',
					'fabrication',
					'styledNicknames',
					'placeholder',
					'figura'
			])
			bundle('compat_runtime', [
					'drogtor',
					// 'fabrictailor',
					'pehkui'
			])

			// // Local Debugging Convenience // //
			version('lazydfu', "0.1.3")
			version('fastload', "2.6.11")
			version('smoothboot-fabric', "1.19-1.7.1")
			version('sodium', "mc1.19.2-0.4.4")
			version('lithium', "mc1.19.2-0.10.4")
			version('dynamic-fps', "v2.2.0")
			version('toml4j', "0.7.2")
			version('modmenu', "4.2.0-beta.2")

			library('lazydfu', 'maven.modrinth', 'lazydfu').versionRef('lazydfu')
			library('fastload', 'maven.modrinth', 'fastload').versionRef('fastload')
			library('smoothboot-fabric', 'maven.modrinth', 'smoothboot-fabric').versionRef('smoothboot-fabric')
			library('sodium', 'maven.modrinth', 'sodium').versionRef('sodium')
			library('lithium', 'maven.modrinth', 'lithium').versionRef('lithium')
			library('dynamic-fps', 'maven.modrinth', 'dynamic-fps').versionRef('dynamic-fps')
			library('toml4j', 'com.moandjiezana.toml', 'toml4j').versionRef('toml4j') // for dynamic FPS
			library('modmenu', 'maven.modrinth', 'modmenu').versionRef('modmenu')

			bundle('local_conveniences', [
					'lazydfu',
					'fastload',
					'smoothboot-fabric',
					'sodium',
					'lithium',
					'dynamic-fps',
					'toml4j',
					'modmenu'
			])
		}
	}
}

include('core', 'client', 'cardinal', 'compat')
